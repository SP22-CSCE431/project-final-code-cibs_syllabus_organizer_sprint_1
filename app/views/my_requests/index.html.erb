
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

<h1 style="padding-left: 5%">My Requests</h1>
<!--<button type="button" class="btn btn-lg btn-danger" data-toggle="popover" title="Help for My Request Page" data-content="This is your requests page! The status of your requests will be shown down below. No requests? Click on either new request button to make a new request!">My Requests</button>-->



<style>
    table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 90%;
    }
    .center {
    margin-left: auto;
    margin-right: auto;
    }

    td, th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
    }

    tr:nth-child(even) {
    background-color: #dddddd;
    }
</style>

<table class="center">
  <thead>
    <tr>
      <th>Syllabus PDF</th>
      <th>Semester Approved</th>
      <th>Foreign Course Department</th>
      <th>Foreign Course Number</th>
      <th>Foreign Course Name</th>
      <th>Foreign School Name</th>
      <th>Status</th>
    </tr>
  </thead>

  <tbody>
    <% @foreign_courses.each do |foreign_course| %>
        <tr>
            <td><%= link_to foreign_course.syllabus.filename, rails_blob_path(foreign_course.syllabus, disposition: :attachment) %></td>
            <td><%= foreign_course.semester_approved %></td>
            <td><%= foreign_course.foreign_course_dept %></td>
            <td><%= foreign_course.foreign_course_num %></td>
            <td><%= foreign_course.foreign_course_name %></td>
            <td><%= University.where(id: foreign_course.university_id).last.university_name %></td>
            <% if ForeignCoursesStudent.find_by(student_id: @current_student_id, foreign_course_id: foreign_course.id).admin_course_approval == true%>
              <td> Approved </td>
            <% elsif ForeignCoursesStudent.find_by(student_id: @current_student_id, foreign_course_id: foreign_course.id).admin_course_approval == false %>
              <td> Pending... </td>
            <% else %> 
              <td> Rejected </td>
            <% end %>
        </tr>
    <% end %>
  </tbody>
</table>

<%= button_to "New Request +", new_request_path, :id => "open-contacts-dialog-btn", :class => "btn btn-secondary", :method => :get, :style => "position: relative; right: -5%; top: -5%" %>
